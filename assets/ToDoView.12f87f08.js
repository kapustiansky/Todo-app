var S=Object.defineProperty,b=Object.defineProperties;var I=Object.getOwnPropertyDescriptors;var k=Object.getOwnPropertySymbols;var V=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable;var m=(s,e,a)=>e in s?S(s,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[e]=a,l=(s,e)=>{for(var a in e||(e={}))V.call(e,a)&&m(s,a,e[a]);if(k)for(var a of k(e))C.call(e,a)&&m(s,a,e[a]);return s},_=(s,e)=>b(s,I(e));import{d as w,m as f,u as y,a as $,_ as A,o as r,c as d,b as t,t as c,w as D,e as F,v as N,F as g,r as z,p as B,f as E,g as L,n as T,h as O}from"./index.2d1d9878.js";const v=w({id:"todo",state:()=>({task:"",editedTask:null,statuses:["to-do","in-progress","finished"],tasks:localStorage.getItem("tasks")?JSON.parse(localStorage.getItem("tasks")):[{name:"Steal bananas from the supermarket.",status:"to-do"},{name:"Eat 1 kg chocolate in 1 hour.",status:"in-progress"},{name:"Create YouTube video.",status:"finished"}]}),actions:{changeStatus(s){let e=this.statuses.indexOf(this.tasks[s].status);++e>2&&(e=0),this.tasks[s].status=this.statuses[e]},deleteTask(s){this.tasks.splice(s,1)},editTask(s){this.task=this.tasks[s].name,this.editedTask=s},submitTask(){this.task.length!==0&&(this.editedTask!=null?(this.tasks[this.editedTask].name=this.task,this.editedTask=null):this.tasks.push({name:this.task,status:"to-do"}),this.task="")},changeTaskValue(s){this.task=s}}});const U={data(){return{taskValue:""}},computed:l(l({},f(v,["task","editedTask","statuses","tasks"])),f(y,["username"])),mounted(){if(!sessionStorage.getItem("isLogin")||sessionStorage.getItem("isLogin")==!1)try{this.$router.push({name:"login"})}catch(s){console.error(s)}},methods:_(l({},$(v,["changeStatus","deleteTask","editTask","submitTask","changeTaskValue"])),{capitalizeFirstChar(s){return s.charAt(0).toUpperCase()+s.slice(1)},focusInput(){this.$nextTick(()=>this.$refs.taskInput.focus())}}),watch:{taskValue(){this.changeTaskValue(this.taskValue)},task(){this.taskValue=this.task},tasks:{handler:function(s){localStorage.setItem("tasks",JSON.stringify(s))},deep:!0}}},i=s=>(B("data-v-340fa6ba"),s=s(),E(),s),J=i(()=>t("section",null,[t("div",{class:"todo-bg-top"}),t("div",{class:"todo-bg-bottom"})],-1)),M={class:"todo-wrapper"},x={class:"container"},Y=i(()=>t("div",{class:"todo-img"},[t("img",{src:L,alt:""})],-1)),j={class:"todo-container"},q={class:"todo-app"},G={class:"todo-title"},H=i(()=>t("button",{type:"submit",form:"todo-form",class:"btn btn-warning rounded-0"}," add + ",-1)),K=i(()=>t("thead",null,[t("tr",null,[t("th",{scope:"col"},"Task"),t("th",{scope:"col",class:"status-title"},"Status"),t("th",{scope:"col",class:"action-title"},"#"),t("th",{scope:"col",class:"action-title"},"#")])],-1)),P={class:"status-container"},Q=["onClick"],R=["onClick"],W=i(()=>t("span",null,"\u{1F44E}",-1)),X=[W],Z=["onClick"],ss=i(()=>t("span",null,"\u270D\uFE0F",-1)),ts=[ss];function es(s,e,a,os,u,h){return r(),d(g,null,[J,t("section",M,[t("div",x,[Y,t("div",j,[t("div",q,[t("h2",G,"Thank you "+c(s.username)+"!",1),t("form",{id:"todo-form",class:"todo-form",onSubmit:e[1]||(e[1]=D((...o)=>s.submitTask&&s.submitTask(...o),["prevent"]))},[F(t("input",{form:"todo-form",type:"text","onUpdate:modelValue":e[0]||(e[0]=o=>u.taskValue=o),ref:"taskInput",placeholder:"Enter task ",class:"w-100 form-control"},null,512),[[N,u.taskValue]]),H],32),t("table",null,[K,t("tbody",null,[(r(!0),d(g,null,z(s.tasks,(o,n)=>(r(),d("tr",{key:n},[t("td",null,[t("span",{class:T(["task",{finished:o.status==="finished","in-progress":o.status==="in-progress"}])},c(o.name),3)]),t("td",P,[t("span",{class:T(["status",{"text-danger":o.status==="to-do","text-success":o.status==="finished","text-warning":o.status==="in-progress"}]),onClick:p=>s.changeStatus(n)},c(h.capitalizeFirstChar(o.status)),11,Q)]),t("td",null,[t("div",{class:"action-item",title:"delete task",onClick:p=>s.deleteTask(n)},X,8,R)]),t("td",null,[t("div",{class:"action-item",title:"edit task",onClick:p=>{s.editTask(n),h.focusInput()}},ts,8,Z)])]))),128))])])])])])])],64)}var as=A(U,[["render",es],["__scopeId","data-v-340fa6ba"]]);const ls={setup(s){return(e,a)=>(r(),d("main",null,[O(as)]))}};export{ls as default};
